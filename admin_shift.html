<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>è¬ç”¨æ’ç­ç³»çµ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-[#f8fafc] text-slate-600 p-4 font-sans min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        const App = () => {
            const [year, setYear] = useState(2026);
            const [month, setMonth] = useState(2);
            const [shifts, setShifts] = useState(() => {
                const saved = localStorage.getItem('universal_shifts');
                return saved ? JSON.parse(saved) : {};
            });

            useEffect(() => {
                localStorage.setItem('universal_shifts', JSON.stringify(shifts));
            }, [shifts]);

            const daysInMonth = new Date(year, month, 0).getDate();
            const firstDay = new Date(year, month - 1, 1).getDay();

            const toggleShift = (day) => {
                const key = `${year}-${month}-${day}`;
                const current = shifts[key] || 'H';
                const next = current === 'H' ? 'W' : (current === 'W' ? 'D' : 'H');
                setShifts({...shifts, [key]: next});
            };

            const getStatusColor = (status) => {
                if (status === 'W') return 'bg-slate-800 text-white border-slate-700'; // æ™šç­
                if (status === 'D') return 'bg-amber-100 text-amber-700 border-amber-200'; // æ—¥ç­
                return 'bg-white text-slate-400 border-slate-100'; // ä¼‘
            };

            return (
                <div className="max-w-md mx-auto pb-20">
                    <div className="flex justify-between items-center mb-8 mt-6 px-2">
                        <h1 className="text-2xl font-black text-slate-800">ğŸ“… è¬ç”¨æ’ç­</h1>
                        <div className="flex gap-2">
                            <select value={month} onChange={(e)=>setMonth(parseInt(e.target.value))} className="bg-white border p-2 rounded-xl font-bold">
                                {[...Array(12)].map((_,i)=><option key={i+1} value={i+1}>{i+1}æœˆ</option>)}
                            </select>
                        </div>
                    </div>

                    <div className="bg-white rounded-[3rem] p-6 shadow-xl border border-slate-50 mb-6">
                        <div className="grid grid-cols-7 gap-2 mb-4 text-center">
                            {['æ—¥','ä¸€','äºŒ','ä¸‰','å››','äº”','å…­'].map(d=><div key={d} className="text-[10px] font-bold text-slate-300 uppercase">{d}</div>)}
                            {[...Array(firstDay)].map((_,i)=><div key={i}></div>)}
                            {[...Array(daysInMonth)].map((_,i)=>{
                                const day = i + 1;
                                const status = shifts[`${year}-${month}-${day}`] || 'H';
                                return (
                                    <button 
                                        key={day} 
                                        onClick={() => toggleShift(day)}
                                        className={`h-14 rounded-2xl border-2 flex flex-col items-center justify-center transition-all active:scale-90 ${getStatusColor(status)}`}
                                    >
                                        <span className="text-xs font-bold">{day}</span>
                                        <span className="text-[10px] font-black">{status === 'H' ? 'ä¼‘' : (status === 'W' ? 'æ™š' : 'æ—¥')}</span>
                                    </button>
                                );
                            })}
                        </div>
                        <div className="flex justify-around mt-8 pt-6 border-t border-slate-50 text-[10px] font-bold">
                            <div className="flex items-center gap-1"><div className="w-3 h-3 bg-white border border-slate-200 rounded"></div> ä¼‘å‡</div>
                            <div className="flex items-center gap-1"><div className="w-3 h-3 bg-slate-800 rounded"></div> æ™šç­</div>
                            <div className="flex items-center gap-1"><div className="w-3 h-3 bg-amber-100 border border-amber-200 rounded"></div> æ—¥ç­</div>
                        </div>
                    </div>

                    <div className="px-6 py-5 bg-blue-50 rounded-[2.5rem] border border-blue-100 text-xs text-blue-800 leading-relaxed shadow-sm">
                        <p className="font-bold mb-2 italic">ğŸ‘‰ å°é»‘å“¥æ“ä½œæŒ‡å—ï¼š</p>
                        1. é»æ“Šæ—¥æœŸå¯åˆ‡æ› **ä¼‘ â†’ æ™š â†’ æ—¥**ã€‚ [cite: 2026-02-04] <br/>
                        2. æ’å¥½å¾Œæœƒè‡ªå‹•å­˜æª”ï¼Œæ›æœˆä»½å¾Œè³‡æ–™ä¹Ÿä¸æœƒæ¶ˆå¤±ã€‚ [cite: 2026-02-04] <br/>
                        3. å¦³ç¾åœ¨å¯ä»¥å¹«è‡ªå·±æ’ 2 æœˆåº•é‚£æ®µ **22-26 è™Ÿ** çš„äº”é€£ä¼‘äº†ï¼
                    </div>

                    <a href="index.html" className="fixed bottom-8 right-8 bg-slate-800 w-14 h-14 rounded-full shadow-2xl flex items-center justify-center text-xl z-40 border-2 border-white/20 text-white font-bold font-serif">ğŸ </a>
                </div>
            );
        };
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
